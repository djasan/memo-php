Nous savons d√©sormais que PHP s'ex√©cute sur le serveur, et que son r√¥le est de g√©n√©rer des pages web. Cependant, seul un serveur peut lire du PHP ; or, votre ordinateur n'est pas un serveur.

Mais alors comment cr√©er un site dynamique si PHP ne fonctionne pas chez moi ?

Qu'√† cela ne tienne : nous allons temporairement transformer votre ordinateur en serveur pour que vous puissiez ex√©cuter du PHP et travailler sur votre site dynamique.

Vous serez fin pr√™t √† programmer apr√®s avoir lu ce chapitre !

Selon que l'on cr√©e un site statique ou un site dynamique, on a besoin de logiciels diff√©rents. En fait, faire un site dynamique n√©cessite malheureusement pour nous quelques logiciels suppl√©mentaires !
Ayez en t√™te les outils de base pour cr√©er un site statique

Les webmasters qui cr√©ent des sites statiques avec HTML et CSS ont de la chance, ils ont en g√©n√©ral d√©j√† tous les programmes dont ils ont besoin :

    Un √©diteur de texte.

    Un navigateur web.

Un √©diteur de texte

En th√©orie, un programme tel que le bloc-notes livr√© avec Windows suffit, bien qu'il soit recommand√© d'utiliser un outil un peu plus √©volu√©, comme Notepad++.

Nous reparlerons du choix de l'√©diteur √† la fin de ce chapitre.
Un navigateur web

Il permet de tester la page web.
capture d'√©cran de la page d'accueil de Google Chrome
Google Chrome

Vous pouvez utiliser par exemple :

    Mozilla Firefox ;

    Microsoft Edge ;

    Google Chrome ;

    Opera ;

    Safari ;

    ou tout autre navigateur auquel vous √™tes habitu√© pour aller sur le Web.

Il est d'ailleurs conseill√© de tester son site r√©guli√®rement sur diff√©rents navigateurs.

Bref ! Mais, et vous le savez d√©j√† : pour cr√©er un site dynamique, ces outils ne suffisent pas‚Ä¶

Il est n√©cessaire d'installer des programmes suppl√©mentaires !
Utilisez les outils pour cr√©er un site dynamique

Pour que votre ordinateur puisse lire du PHP, il faut qu'il se comporte comme un serveur.

Rassurez-vous : vous n'avez pas besoin d'acheter une machine sp√©ciale pour cela !

Il suffit simplement d'installer les m√™mes programmes que ceux que l'on trouve sur les serveurs qui d√©livrent les sites web aux internautes.

Quels sont les programmes que je dois installer ?
Apache 

C'est ce qu'on appelle un serveur web. Il s'agit du plus important de tous les programmes, car c'est lui qui est charg√© de d√©livrer les pages web aux visiteurs. Cependant, Apache ne g√®re que les sites web statiques (il ne peut traiter que des pages HTML). Il faut donc le compl√©ter avec d'autres programmes.
PHP 

C'est un plug-in pour Apache qui le rend capable de traiter des pages web dynamiques en PHP. En clair, en combinant Apache et PHP, notre ordinateur sera capable de lire des pages web en PHP.
MySQL

C'est le logiciel de gestion de bases de donn√©es dont je vous ai parl√© avant. Il permet d'enregistrer des donn√©es de mani√®re organis√©e (comme la liste des membres de votre site). Nous n'en aurons pas besoin imm√©diatement, mais autant l'installer de suite.

Tous ces √©l√©ments sont libres et gratuits.

Certes, il en existe d'autres (parfois payants), mais la combinaison Apache + PHP + MySQL est la plus courante sur les serveurs web. √Ä tel point qu'on a cr√©√© des ¬´ packs ¬ª tout pr√™ts qui contiennent tous ces √©l√©ments. Il est possible de les installer un √† un, mais cela prend plus de temps et vous n'allez rien y gagner (sauf si vous √™tes administrateur de serveur, ce qui ne devrait pas √™tre votre cas).

Dans la suite de ce chapitre, nous allons voir comment installer le ¬´ pack ¬ª qui convient en fonction de votre syst√®me d'exploitation.
Installez MAMP 4.2 si vous √™tes sous Windows ou Mac

Il existe plusieurs "paquetages" pour Windows et Mac. Je vous propose d'utiliser MAMP, qui marche √† la fois pour Windows et pour Mac. Il a l'avantage d'√™tre r√©guli√®rement mis √† jour.

Il existe aussi un programme appel√© WAMP pour Windows que vous pouvez essayer, mais je le trouve un peu plus compliqu√© √† utiliser que MAMP. M√™me si vous √™tes sous Windows, je vous recommande donc d'essayer MAMP en premier.

    Commencez par t√©l√©charger MAMP sur son site. Prenez la version 4.2 correspondant √† votre syst√®me d'exploitation.

    Une fois t√©l√©charg√©, installez-le. Il y a peu d'options. Si on vous propose d'installer MAMP Pro, dites non, car ce programme est payant et nous n'en aurons pas besoin. MAMP seul nous suffit.

    Lancez ensuite MAMP. La fen√™tre suivante devrait appara√Ætre :

Capture d'√©cran de MAMP une fois d√©marr√©
MAMP une fois d√©marr√©

MAMP met √† jour r√©guli√®rement son logiciel et les captures d'√©cran et fonctionnalit√©s pr√©sent√©es dans ce cours pourraient ne plus √™tre identiques. Pour bien suivre ce cours, installez la version 4.2 du logiciel tel que recommand√©.

Lorsque MAMP d√©marre, il lance √† son tour les deux programmes importants en fond : Apache et MySQL (il faudra peut-√™tre cliquer sur "Start Servers"). Vous devriez voir les petites diodes s'afficher en vert en haut √† droite de la fen√™tre. Il faut parfois un petit moment avant que ces programmes ne d√©marrent.

Si une fen√™tre appara√Æt pour vous indiquer que le pare-feu bloque Apache ou MySQL, cliquez sur "Autoriser l'acc√®s". Vous n'avez aucune raison de vous inqui√©ter, c'est parfaitement normal.
Fen√™tre pop-up pour autoriser l'acc√®s de Firewall et Apache
Firewall et Apache

Si MAMP ne se lance pas correctement malgr√© tout, v√©rifiez que vous n'avez pas Skype ouvert en m√™me temps. Les deux programmes ne peuvent pas tourner en parall√®le (ils utilisent les m√™mes ports de communication sur votre machine). Dans ce cas, fermez Skype pendant que vous utilisez MAMP.

Lorsque MAMP a bien lanc√© Apache et MySQL, cliquez sur le bouton "Open WebStart Page", au milieu, qui vous permet d'ouvrir la page d'accueil de MAMP dans votre navigateur.
Capture d'√©cran de la page d'accueil de MAMP dans le navigateur
La page d'accueil de MAMP dans le navigateur

Vous cliquerez sur "My Website" tout en haut pour ouvrir le site web que vous allez cr√©er.

Celui-ci devra √™tre plac√© :

    dans  C:\MAMP\htdocs  sous Windows ;

    ou dans  /Applications/MAMP/htdocs  sous Mac.

Vous pouvez changer ce r√©pertoire par d√©faut si besoin dans les pr√©f√©rences de MAMP, section Web Server, o√π vous modifierez "Document root".

Pour l'instant, si vous ouvrez "My Website", il n'y a rien.

Je vous propose de cr√©er un projet de test que nous appellerons tests.

Pour ce faire :

    Ouvrez l'explorateur Windows (ou le Finder Mac) et rendez-vous dans le dossier racine htdocs.

    Cr√©ez un nouveau sous-dossier que vous appellerez tests, comme sur cette image :

Capture d'√©cran du dossier
Capture d'√©cran du dossier "tests" sur l'ordinateur

Maintenant :

    Supprimez le fichier index.php (ici, il ne nous servira √† rien).

    Retournez sur la page d'accueil de MAMP et allez dans "My Website". Vous devriez voir un dossier "tests" appara√Ætre.

Le dossier tests appara√Æt dans le navigateur
Le dossier Tests appara√Æt dans le navigateur

Si besoin, vous pouvez vous rendre directement dans ce dossier depuis votre navigateur √† l'adresse http://localhost/tests ou http://localhost:8888/tests (selon votre configuration).

Cliquez sur le dossier pour l'ouvrir. Il n'y a rien √† l'int√©rieur pour le moment :
Le dossier tests est vide
Le dossier Tests est vide

Si vous avez le m√™me r√©sultat, cela signifie que tout fonctionne. Bravo, vous avez install√© MAMP et il fonctionne correctement. Vous √™tes pr√™t √† programmer en PHP !

QUOI ?! Tout √ßa pour √ßa ?

Eh oui, l'ami ! On n'a pas encore commenc√© √† programmer, il ne fallait pas non plus vous attendre √† un feu d'artifice tout de suite. üéÜ

Vous pouvez passer la section suivante qui ne concerne que les utilisateurs sous Linux.
Installez XAMPP si vous √™tes sous Linux

Sous Linux, il est courant d'installer Apache, PHP et MySQL s√©par√©ment.

Toutefois, il existe aussi des packs tout pr√™ts comme XAMPP (pour X, Apache, MySQL, Perl, PHP), anciennement connu sous le nom de LAMPP.

Ce pack est plus complet que MAMP. Nous n'utiliserons toutefois qu'une partie des √©l√©ments install√©s.

Sur le site officiel de XAMPP, recherchez le lien XAMPP pour Linux.
T√©l√©chargement de XAMPP pour Linux
T√©l√©chargement de XAMPP pour Linux

XAMPP est aussi disponible pour Windows et Mac OS X, comme vous pourrez le constater sur le site. La m√©thode d'installation est sensiblement diff√©rente, mais vous pouvez l'essayer si vous avez d√©j√† test√© MAMP et qu'il ne vous convient pas.

Une fois le t√©l√©chargement termin√©, ouvrez une console. L'installation et le lancement de XAMPP se font en effet uniquement en console (allons, allons, pas de chichis, vous n'allez pas me faire avaler que c'est la premi√®re fois que vous l'ouvrez, la console !).

Rendez-vous dans le dossier dans lequel vous avez t√©l√©charg√© XAMPP. Par exemple, dans mon cas, le fichier se trouve sur le bureau :

cd /Desktop

Vous devez passer root pour installer et lancer XAMPP.

root est le compte administrateur de la machine, qui a notamment le droit d'installer des programmes.

Normalement, il suffit de taper su et de rentrer le mot de passe root  .

Sous Ubuntu, il faudra taper sudo su et taper votre mot de passe habituel.

Si comme moi vous utilisez Ubuntu, tapez donc :

sudo su

Donnez les droits d'ex√©cution au fichier que vous venez de t√©l√©charger :

chmod 755 xampp-linux-*-installer.run

Puis lancez le programme d'installation :

./xampp-linux-*-installer.run

Pensez √† remplacer l'√©toile dans la commande par le num√©ro de version du fichier t√©l√©charg√©.

Et voil√† ! XAMPP est maintenant install√©.

Pour d√©marrer XAMPP (et donc Apache, PHP et MySQL), tapez la commande suivante :

/opt/lampp/lampp start

Si vous d√©sirez plus tard arr√™ter XAMPP, tapez :

/opt/lampp/lampp stop

N'oubliez pas que vous devez √™tre root lorsque vous d√©marrez ou arr√™tez XAMPP.

Ce n'est pas bien compliqu√©, comme vous pouvez le voir !

Vous pouvez maintenant tester XAMPP en ouvrant votre navigateur favori et en tapant l'adresse suivante : http://localhost  .

Les fichiers PHP devront √™tre plac√©s dans le r√©pertoire /opt/lampp/htdocs  . Vous pouvez y cr√©er un sous-r√©pertoire tests pour vos premiers tests.

cd /opt/lampp/htdocs && mkdir tests

Une fois le dossier cr√©√©, vous pouvez y acc√©der depuis votre navigateur √† l'adresse suivante :http://localhost/tests  .
D√©couvrez le serveur PHP int√©gr√©

Nous avons install√© des logiciels qui reproduisent le comportement exact d'un serveur tel qu'il serait configur√© et install√© en ligne. Mais pour de petits travaux sur votre ordinateur "en local", PHP fournit un serveur web interne tr√®s pratique, et qui utilise PHP en ligne de commande pour provoquer l'ex√©cution du script et le rendu de la page.

Par exemple, si l'on cr√©e un fichier PHP index.php avec le contenu suivant :

<?php


echo "Hello world";

et que nous ex√©cutons en ligne de commande au niveau du dossier o√π se trouve le fichier index.php :

php -S localhost:8080

    localhost √©tant votre "nom de domaine" local ;

    "8080" √©tant un port HTTP quelconque.

Ensuite, en acc√©dant √† http://localhost:8080/index.php, le retour de l'ex√©cution de ce script PHP sera disponible ! Pratique, non ?
Mise en application du serveur PHP de d√©veloppement pour afficher un Hello World
Le serveur interne de PHP en action !

Par la suite, dans les vid√©os du cours, nous utiliserons l'une ou l'autre des options propos√©es.

Vous √™tes pr√™t √† travailler en PHP !
Utilisez un bon √©diteur de texte

Comme vous devez d√©j√† le savoir, pour √©diter le code d'une page web, vous avez plusieurs solutions :

    utiliser un √©diteur de texte tout simple que vous avez d√©j√†, comme Bloc-notes. Ce logiciel suffit normalement √† √©crire des pages web en HTML et m√™me en PHP, mais‚Ä¶

    le mieux reste d'utiliser un logiciel sp√©cialis√© qui colore votre code (tr√®s pratique) et qui num√©rote vos lignes (tr√®s pratique aussi).

Il existe des centaines et des centaines de logiciels gratuits faits pour les d√©veloppeurs comme vous. Je vais vous en pr√©senter ici deux :

    Un que l'on peut utiliser gratuitement : Visual Studio Code.

    Et un payant : PHPStorm.

Je vous propose donc d'installer un logiciel qui va vous permettre d'√©diter vos fichiers sources de mani√®re efficace. Vous en avez probablement d√©j√† install√© un si vous avez appris √† programmer en HTML/CSS, mais comme on n'est jamais trop prudent, je vais rapidement vous en pr√©senter quelques-uns en fonction de votre syst√®me d'exploitation.

Voici le code source HTML que nous allons utiliser pour commencer en terrain connu. Copiez-collez ce code dans l'√©diteur de texte que je vais vous faire installer :

<html>

    <head>

        <meta charset="utf-8"/>

        <title>Ceci est une page HTML de test</title>

    </head>


    <body>

        <h2>Page de test</h2>

        <p>

            Cette page contient <strong>uniquement</strong> du code HTML.<br/>



            Voici quelques petits tests :



        </p>


        <ul>

            <li style="color: blue;">Texte en bleu</li>

            <li style="color: red;">Texte en rouge</li>

            <li style="color: green;">Texte en vert</li>

        </ul>

    </body>

</html>

Il n'y a pas de PHP pour l'instant, afin de commencer en douceur. Nous allons simplement essayer d'enregistrer un fichier HTML avec ce code pour nous √©chauffer.
Visual Studio Code

Que vous soyez sous Windows, Mac ou Linux, je vous recommande de commencer avec l'√©diteur Visual Studio Code qui est suffisamment l√©ger et simple si vous d√©butez.

Ne vous fiez pas √† son apparente simplicit√© : Visual Studio Code est en effet rapide et simple √† la base, mais il est possible d'√©tendre ses fonctionnalit√©s avec d'innombrables plugins !

Visual Studio Code est un tr√®s bon √©diteur, utilis√© par de nombreux d√©veloppeurs (y compris des professionnels). Il voit en revanche ses limites sur de gros projets, o√π certains lui pr√©f√®rent PHPStorm.
PHPStorm

PHPStorm ressemble un peu plus √† une "machine de guerre". Et pour cause : c'est un IDE, un environnement de travail de d√©veloppeur. Il est utilis√© par de nombreux d√©veloppeurs PHP professionnels de ma connaissance. 
Interface de PHPStorm
L'√©diteur PHPStorm, utilis√© par de nombreux professionnels

PHPStorm est plus "costaud" que Visual Studio Code. Il met plus de temps √† charger, il peut avoir de nombreuses fonctionnalit√©s avanc√©es gr√¢ce √† ses plugins.

Par ailleurs, PHPStorm est payant.

Vous ne commencerez peut-√™tre pas de suite avec PHPStorm, mais gardez-le sur votre radar car c'est un outil tr√®s utilis√© que vous essaierez s√ªrement un jour.
En r√©sum√©

    Pour cr√©er des sites web dynamiques, nous devons installer des outils qui transforment notre ordinateur en serveur, afin de pouvoir tester notre site.

    Les principaux outils n√©cessaires sont :

        Apache, le serveur web.

        PHP, le programme qui permet au serveur web d'ex√©cuter des pages PHP.

        MySQL, le logiciel de gestion de bases de donn√©es.

    Bien qu'il soit possible d'installer ces outils s√©par√©ment, il est plus simple pour nous d'installer un paquetage tout pr√™t : MAMP sous Windows et macOS, ou XAMPP sous Linux.

    Il est conseill√© d'utiliser un √©diteur de texte qui colore le code source, comme Visual Studio Code, pour programmer convenablement en PHP. Pour les personnes plus exp√©riment√©es qui travaillent sur de gros projets, je recommande PHPStorm.
